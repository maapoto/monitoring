<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MHVRA Maps</title>

    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="docs/images/favicon.ico"
    />

    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>

    <script src="https://unpkg.com/leaflet-legend@1.0.0/dist/leaflet-legend.js"></script>

    <style>
      html,
      body {
        height: 100%;
        margin: 0;
      }
      .leaflet-container {
        height: 100%;
        width: 100%;
        max-width: 100%;
        max-height: 100%;
      }
    </style>
  </head>
  <body>
    <!--Create a html div for leaflet map-->
    <div id="map" style="width: 100%; height: 100%"></div>
   
    <script>
      //Create a leaflet map with the specified coordinates (125.5, -8.7) and zoom level (13)
      var map = L.map("map", {
        center: [-8.7, 125.5],
        zoom: 9,
      });
      //Create a tile layer from open street map
      var osm = L.tileLayer(
        "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
        {
          attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        }
      ).addTo(map);

      // Add a WMS layer from GeoServer
      //Floods
      var Flood_W_RT100_1d_Current = L.tileLayer
        .wms("http://35.219.4.85:8600/geoserver/wms", {
          layers: "tls:I-Flood_W_RT100_6H_Current",
          format: "image/png",
          transparent: true,
          tileSize: 256,
        })
        .addTo(map);

      //Create a layer control
      var baseMaps = {
        OSM: osm,
      };
      var overlays = {
        Floods: Flood_W_RT100_1d_Current,
      };
      L.control.layers(baseMaps, overlays).addTo(map);

      //add a legend control for geoserver layer
      var legend = L.control({ position: "bottomright" });
      legend.onAdd = function (map) {
        var div = L.DomUtil.create("div", "info legend");
        // Define the legend content (you can customize this part)
        div.innerHTML =
          '<img src="http://35.219.4.85:8600/geoserver/wms?REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&LAYER=tls:I-Flood_W_RT100_1d_Current">';
        return div;
      };
      legend.addTo(map);

      
    </script>
  </body>
</html>

